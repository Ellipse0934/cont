nproc 2duppi ptr a int b -> ptr int ptr int:
  a b a b
end
nproc 2dupip int a ptr b -> int ptr int ptr:
  a b a b
end

proc shadowi int:
  asm push 0
  drop
end 

proc shadowp ptr:
  asm push 0
  drop
end 

proc unshadowi -> int:
  0
  asm pop rax
end

proc unshadowp -> ptr:
  0
  asm pop rax
  (ptr)
end